<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Collection Detail</title>
        <link rel="stylesheet" href="assets/styles/styles.css">
        <link rel="stylesheet" href="assets/styles/style_portfolio.css">
    </head>
    <body>
        <header>
            <a href="index.html" class="logo">
                <img src="assets/images/LEANORA_logo_draft.png"
                    alt="LEANORA logo"
                    class="logo"
                    srcset>
            </a>
            <div class="header-right">
                <a href="colection.html" class="currentLink">Last collection</a>
                <a href="portfolio.html">Portfolio</a>
                <a href="about_me.html">About me</a>
            </div>
        </header>
        <main>
            <div class="designDetails">
                <div class="image_a">
                    <img>
                </div>
                <div class="image">
                    <img>
                </div>
                <div>
                    <h3 class="nome"></h3>
                    <div class="descricao"></div>
                </div>
                <!-- Filled by the srcipt at the bottom -->
            </div>
        </main>

        
        <footer>
            <p>&copy; 2024 Leonor Medeiros. All rights reserved.</p>
        </footer>
        
        <script>
            let designs = null;
            fetch('last_collection.json')
            .then(response => response.json())
            .then(data => {
                designs = data;
                showDetail();
            })
            function showDetail(){
                let detail = document.querySelector('.designDetails');
                let designId = new URLSearchParams(window.location.search).get('id');
                let thisDesign = designs.filter(value => {
                    return value.id == designId;
                })[0];
                if(!thisDesign){
                    window.location.href = "/";
                }             
                detail.querySelector('.image_a img').src = thisDesign.image_a;
                detail.querySelector('.image img').src = thisDesign.image;
                detail.querySelector('.nome').innerHTML = thisDesign.name;
                detail.querySelector('.descricao').innerHTML = thisDesign.description;

            }
            
        </script>
    </body>
</html>